(this["webpackJsonpattendance-management-system"]=this["webpackJsonpattendance-management-system"]||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t),n.d(t,"signin",(function(){return i})),n.d(t,"authenticate",(function(){return l})),n.d(t,"isAuthenticated",(function(){return u})),n.d(t,"singup",(function(){return d}));var c=n(8),s=n.n(c),a=n(10),r=n(115),o="https://backend-attendance-7k9lf.ondigitalocean.app/api/",i=function(){var e=Object(a.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.post("".concat(o,"/signin"),t).then((function(e){return e})).catch((function(e){return Promise.reject(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e){localStorage.setItem("user",JSON.stringify(e))},u=function(){return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))},d=function(){var e=Object(a.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.post("".concat(o,"/signup"),t).then((function(e){return e})).catch((function(e){return Promise.reject(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},142:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(22),r=n.n(a),o=(n(92),n(27)),i=n(13),l=n(1);var u=function(e){var t=e.title,n=e.icon_one,c=e.icon_two,s=Object(i.g)();return Object(l.jsxs)("div",{onClick:function(){switch(t){case"Add or Remove User":s.push("/admin/addremove");break;case"Add Course":s.push("/admin/addcourse");break;case"Assign Course to User":s.push("/admin/assign");break;case"Mark Attendance":s.push("/admin/mark")}},className:"group mb-4 p-5 border-2 hover:border-indigo-700 hover:bg-gray-300 transform  cursor-pointer bg-gray-100 md:w-[250px] rounded-md flex items-center flex-col   md:mt-20 md:ml-20",children:[Object(l.jsxs)("div",{className:"flex",children:["UserAddIcon"===n&&Object(l.jsx)(o.e,{className:"h-20 w-20 text-[#06202A]"}),c&&Object(l.jsx)(o.g,{className:"h-20 w-20 text-[#06202A]"}),"PlusCircleIcon"===n&&Object(l.jsx)(o.d,{className:"h-20 w-20 text-[#06202A]"}),"ArchiveIcon"===n&&Object(l.jsx)(o.a,{className:"h-20 w-20 text-[#06202A]"}),"MarkAttendance"===n&&Object(l.jsx)(o.b,{className:"h-20 w-20 text-[#06202A]"})]}),Object(l.jsx)("h1",{className:"  font-bold text-[#06202B] text-center",children:t})]})},d=n(8),j=n.n(d),b=n(10),x=n(5),f=n(20);var p=function(){var e=Object(c.useState)(!1),t=Object(x.a)(e,2),n=t[0],s=t[1];return Object(l.jsxs)(l.Fragment,{children:[n&&Object(l.jsx)(i.a,{to:"/"}),Object(l.jsxs)("span",{onClick:function(){localStorage.clear("user"),s(!0)},className:"flex group flex-col cursor-pointer items-center md:mr-7",children:[Object(l.jsx)(o.c,{className:"h-6 w-6  group-hover:animate-bounce "}),Object(l.jsx)("p",{className:"opacity-0 group-hover:opacity-100 font-bold",children:"Logout"})]})]})};var m=function(){var e=Object(c.useState)({}),t=Object(x.a)(e,2),n=t[0],s=t[1],a=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(localStorage.getItem("user"));case 2:t=e.sent,s({name:t.name?t.name:"admin",email:t.email,role:t.role});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a()}),[]),Object(l.jsxs)("nav",{className:"flex mx-6 my-5 justify-between font-sans ",children:[Object(l.jsx)("div",{children:Object(l.jsx)("h1",{className:"text-2xl font-mono",children:1===n.role?Object(l.jsx)(f.b,{to:"/admin",children:"Dashboard"}):Object(l.jsx)(f.b,{to:"/user",children:"Dashboard"})})}),Object(l.jsxs)("div",{className:"flex  justify-evenly",children:[Object(l.jsxs)("span",{className:"flex group flex-col cursor-pointer items-center  md: mr-7 relative ",children:[Object(l.jsx)(o.f,{className:"h-6 w-6 group-hover:animate-bounce "}),Object(l.jsx)("p",{className:"opacity-0 group-hover:opacity-100 font-bold",children:"Profile"}),Object(l.jsx)("div",{className:"hidden arrow group-hover:inline-block"}),Object(l.jsxs)("div",{className:"hidden absolute text-white text-xl bg-gray-400 top-[54px] rounded-sm p-4 min-w-[160px] shadow-xl z-1 group-hover:inline-block",children:[Object(l.jsx)("p",{children:n.name}),Object(l.jsx)("p",{children:n.email})]})]}),Object(l.jsx)(p,{})]})]})};var h=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(m,{}),Object(l.jsxs)("div",{className:"mx-10 md:flex flex-wrap items-evenly  ",children:[Object(l.jsx)(u,{title:"Add or Remove User",icon_one:"UserAddIcon",icon_two:"UserRemoveIcon"}),Object(l.jsx)(u,{title:"Add Course",icon_one:"PlusCircleIcon"}),Object(l.jsx)(u,{title:"Assign Course to User",icon_one:"ArchiveIcon"}),Object(l.jsx)(u,{title:"Mark Attendance",icon_one:"MarkAttendance"})]})]})},O=n(9),g=n(23),v=n.n(g),w=n(48),N=n(14);var y=function(e){var t=e.history,n=Object(w.a)(),s=n.register,a=n.handleSubmit,r=n.formState.errors,o=Object(c.useState)(!1),u=Object(x.a)(o,2),d=u[0],f=u[1],p=Object(c.useState)(!1),m=Object(x.a)(p,2),h=m[0],g=m[1],y=Object(c.useState)({admin:!1,notadmin:!1}),S=Object(x.a)(y,2),E=S[0],k=S[1],C=Object(c.useRef)(null);function _(e){return new Promise((function(t){return setTimeout(t,e)}))}var A=function(e){C.current.classList.add("hidden"),f(!0),Object(N.signin)(e).then(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(500);case 2:Object(N.authenticate)(t.data),1===t.data.role?k({admin:!0,notadmin:!1}):k({admin:!1,notadmin:!0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(500);case 2:C.current.classList.remove("hidden"),f(!1),g(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"grid h-screen place-items-center",children:Object(l.jsxs)("div",{className:"w-full h-full flex justify-center flex-col items-center",children:[Object(l.jsxs)("form",{onSubmit:a(A),className:"flex bg-white flex-col  md:w-2/5  p-5 space-y-3 rounded-md shadow-2xl",children:[Object(l.jsx)("h1",{className:"self-center text-black text-2xl font-semibold mb-2",children:"Login"}),h&&Object(l.jsx)("h1",{className:"text-red-600 bg-red-200 p-2 ",children:"Incorrect Email or Password"}),Object(l.jsx)("input",Object(O.a)(Object(O.a)({},s("email",{required:!0})),{},{type:"email",name:"email",autoComplete:"off",placeholder:"Email",className:"p-3 text-black bg-[#EEEEEE] focus:outline-none"})),r.email&&Object(l.jsx)("span",{className:"text-red-600 bg-red-200 p-2 w-4/5 md:w-1/2",children:"Email is required"}),Object(l.jsx)("input",Object(O.a)(Object(O.a)({},s("password",{required:!0})),{},{type:"password",name:"password",autoComplete:"off",placeholder:"Password",className:"p-3 text-black bg-[#EEEEEE] focus:outline-none"})),r.password&&Object(l.jsx)("span",{className:"text-red-600 bg-red-200 p-2 w-4/5 md:w-1/2",children:"Password is required"}),Object(l.jsx)("button",{ref:C,className:"p-3 bg-[#32BD69] focus:outline-none text-white",children:"Login"}),d&&Object(l.jsx)(v.a,{fadeIn:"none",name:"cube-grid",color:"orange",className:"self-center h-3"})]}),Object(l.jsx)("p",{className:"text-white font-semibold text-center mt-4 text-xl",children:"If want to be an admin. You can signup below."}),Object(l.jsx)("button",{className:"bg-indigo-500 w-20 rounded-md margin-auto font-bold p-1",onClick:function(){t.push("/signup")},children:"Signup"})]})}),E.admin?Object(l.jsx)(i.a,{to:"/admin"}):E.notadmin?Object(l.jsx)(i.a,{to:"/user"}):void 0]})},S=n(49),E=function(e){var t=e.component,n=Object(S.a)(e,["component"]);return Object(l.jsx)(i.b,Object(O.a)(Object(O.a)({},n),{},{render:function(e){return Object(N.isAuthenticated)()&&1===Object(N.isAuthenticated)().role?Object(l.jsx)(t,Object(O.a)({},e)):Object(l.jsx)(i.a,{to:"/"})}}))},k=n(12),C=n(11),_=n(14).isAuthenticated,A="https://backend-attendance-7k9lf.ondigitalocean.app/api/",D=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()._id;case 2:return t=e.sent,e.abrupt("return",fetch("".concat(A,"/course/").concat(t),{method:"GET"}).then((function(e){return 200!==e.status?Promise.reject(e):e.json()})).catch((function(e){return e})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()._id;case 2:return n=e.sent,e.abrupt("return",fetch("".concat(A,"/addcourse/").concat(n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.ok?e.json():Promise.reject(e)})).catch((function(e){return e})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()._id;case 2:return t=e.sent,e.abrupt("return",fetch("".concat(A,"/users/").concat(t)).then((function(e){return e.ok?e.json():e})).catch((function(e){})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e,t){return fetch("".concat(A,"/adduser/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.ok?e.json():Promise.reject(e)})).catch((function(e){return e}))},T=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()._id;case 2:return n=e.sent,e.abrupt("return",fetch("".concat(A,"/delete/").concat(n,"/").concat(t),{method:"Delete",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject(e)})).catch((function(e){return e})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(A,"/assigncourse/").concat(n),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.ok?e.json():Promise.reject(e)})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",fetch("".concat(A,"/delete/course/").concat(t),{method:"POST"}).then((function(e){return e.ok?e.json():Promise.reject(e)})).catch((function(e){return e})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()._id;case 2:return n=e.sent,e.abrupt("return",fetch("".concat(A,"/users/").concat(t,"/").concat(n)).then((function(e){return e.ok?e.json():e})).catch((function(e){})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(A,"/mark/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():Promise.reject(e)})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(A,"/mark/edit/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.ok?e.json():Promise.reject(e)})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=n(26),V=n(18),H=n.n(V);var q={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)"},content:{top:"30%",left:"50%",borderRadius:"10px",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"30%",position:"absolute"}},J=function(e){var t=e.state,n=e.setOpenModal,s=Object(c.useState)(!0),a=Object(x.a)(s,2),r=a[0],o=a[1];return Object(l.jsx)("div",{children:Object(l.jsx)(H.a,{isOpen:r,onRequestClose:function(){o(!1),n(!1)},style:q,contentLabel:"Example Modal",ariaHideApp:!1,children:Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)("p",{className:"text-xl font-bold text-[#06202A]",children:t.course_name}),Object(l.jsxs)("p",{className:"text-lg font-semibold text-[#06202A]",children:["Duration:",Object(l.jsxs)("span",{children:[" ",t.course_duration," lecture"]})]}),Object(l.jsxs)("p",{className:"text-lg font-semibold text-[#06202A]",children:["Lectures:",Object(l.jsxs)("span",{children:[" ",t.dates.length," lecture"]})]}),t.course_duration<=t.dates.length&&Object(l.jsx)("p",{className:"text-xl font-bold text-red-600",children:"Course Expired"}),Object(l.jsx)("p",{className:"text-md font-semibold text-gray-500",children:t.course_description})]})})})};var Y=function(e){var t=e.state,n=(e.dispatch,e.courses,e.setIsDeleted),s=Object(c.useState)(!1),a=Object(x.a)(s,2),r=a[0],o=a[1];return Object(l.jsxs)("div",{className:"flex justify-between list-group-item  list-group-item-primary mb-2 ",children:[r&&Object(l.jsx)(J,{state:t,setOpenModal:o}),Object(l.jsx)("p",{children:t.course_name}),Object(l.jsxs)("div",{className:"flex space-x-4",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{"data-tip":!0,"data-for":"viewTip",onClick:function(e){return o(!0)},children:Object(l.jsxs)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),Object(l.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),Object(l.jsx)(F.a,{id:"viewTip",place:"left",effect:"solid",children:"View"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{"data-tip":!0,"data-for":"EditTip",onClick:function(){var e=t._id;I(e).then((function(e){e.status||n({status:!0,item:t})}))},children:Object(l.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})}),Object(l.jsx)(F.a,{id:"EditTip",place:"left",effect:"solid",children:"Delete"})]})]})]})};var G=function(e){var t=e.courses,n=e.setcourses,s=Object(c.useState)({status:!1,item:{}}),a=Object(x.a)(s,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){r.status&&(C.b.success("Deleted Successfully",{duration:2e3}),n((function(e){return e.filter((function(e){return e._id!==r.item._id}))})))}),[r.status,r.item]),Object(l.jsxs)("div",{className:" w-96  h-[350px] mb-2 md:m-0 bg-white rounded-t-xl",children:[Object(l.jsx)(C.a,{}),Object(l.jsx)("p",{className:"text-gray-100 text-center font-poppin text-xl  bg-indigo-800 rounded-t-lg",children:"Courses available"}),Object(l.jsx)("div",{className:"overflow-scroll p-2 h-[320px]  ",children:t.length>0&&t.map((function(e){return Object(l.jsx)(Y,{state:e,setIsDeleted:o},e._id)}))})]})};var W=function(){var e=Object(c.useState)([]),t=Object(x.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(x.a)(a,2),o=r[0],i=r[1],u=Object(c.useState)(0),d=Object(x.a)(u,2),j=d[0],b=d[1],f=Object(c.useState)(""),p=Object(x.a)(f,2),h=p[0],O=p[1];Object(c.useEffect)((function(){D().then((function(e){e.status||s(e)}))}),[]);var g=function(e){e.preventDefault(),P({course_name:o,course_duration:j,course_description:h}).then((function(e){e.status&&200!==e.status?C.b.error("Course already exist",{duration:2e3}):(C.b.success("Assigned Course",{duration:2e3}),i(""),O(""),b(0),s([].concat(Object(k.a)(n),[e])))}))};return Object(l.jsxs)("div",{children:[Object(l.jsx)(m,{}),Object(l.jsxs)("div",{children:[Object(l.jsx)(C.a,{}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:"text-3xl text-center font-sarif font-semibold",children:"Add Course Section"}),Object(l.jsxs)("div",{className:"flex mt-3 justify-center flex-col md:flex-row items-center space-y-4 ",children:[Object(l.jsx)("div",{className:"bg-white w-[270px] h-[350px] rounded-xl mr-5 p-4",children:Object(l.jsxs)("form",{className:"p-2 space-y-2 flex flex-col",onSubmit:g,children:[Object(l.jsxs)("p",{className:"font-roboto text-gray-500 text-xl",children:[" ","Course Name"," "]}),Object(l.jsx)("input",{value:o,onChange:function(e){i(e.target.value)},type:"text",className:"bg-gray-300 outline-none text-black h-8  p-3 rounded-2xl",placeholder:"Course Name"}),Object(l.jsxs)("p",{className:"font-roboto text-gray-500 text-xl",children:[" ","Course Duration"," "]}),Object(l.jsx)("input",{value:j,onChange:function(e){b(e.target.value)},type:"Number",min:"1",className:"bg-gray-300 outline-none text-black h-8 p-3 rounded-2xl",placeholder:"Duration"}),Object(l.jsxs)("p",{className:"font-roboto text-gray-500 text-xl",children:[" ","Course Description"," "]}),Object(l.jsx)("textarea",{value:h,onChange:function(e){O(e.target.value)},row:"3",className:"bg-gray-300 outline-none text-black  p-3 rounded-lg"}),Object(l.jsx)("button",{className:"ml-5 bg-[#06202A] p-2 rounded-3xl font-semibold",children:"Add Course"})]})}),Object(l.jsx)(G,{courses:n,setcourses:s})]})]})]})]})};n(79);var K=function(e){var t=e.state,n=e.dispatch,c=e.setOpenModal;return Object(l.jsxs)("div",{className:"flex justify-between list-group-item  hover:bg-[#BACBE6]  list-group-item-primary mb-2 rounded",children:[Object(l.jsx)("p",{children:t.name}),Object(l.jsxs)("div",{className:"flex space-x-4",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{"data-tip":!0,"data-for":"viewTip",onClick:function(e){c(!0),n({type:"set-user",payload:t})},children:Object(l.jsxs)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),Object(l.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),Object(l.jsx)(F.a,{id:"viewTip",place:"left",effect:"solid",children:"View Profile"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{"data-tip":!0,"data-for":"EditTip",onClick:function(e){n({type:"edit-modal"}),n({type:"set-user",payload:t})},children:Object(l.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),Object(l.jsx)(F.a,{id:"EditTip",place:"left",effect:"solid",children:"Edit User"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{"data-tip":!0,"data-for":"deleteTip",onClick:function(e){var n;n=t._id,T(n).then((function(e){e.status?alert("Unable to delete"):alert("Delete Success")}))},children:Object(l.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})}),Object(l.jsx)(F.a,{id:"deleteTip",place:"left",effect:"solid",children:"Delete User"})]})]})]})};var Q={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)"}},X=function(e){var t=e.setOpenModal,n=void 0===t?function(e){return e}:t,s=e.dispatch,a=Object(c.useState)(""),r=Object(x.a)(a,2),o=r[0],i=r[1],u=Object(c.useState)(""),d=Object(x.a)(u,2),f=d[0],p=d[1],m=Object(c.useState)(""),h=Object(x.a)(m,2),O=h[0],g=h[1],v=function(){var e=Object(b.a)(j.a.mark((function e(t){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={name:o,email:f,password:O},e.next=4,Object(N.isAuthenticated)()._id;case 4:a=e.sent,R(c,a).then((function(e){e.status?s({type:"fail-add"}):(s({type:"success-add"}),n(!1))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)(H.a,{isOpen:!0,onafter:function(){},className:"h-[500px] bg-white mt-[30%] mx-[10%] rounded-md md:mt-[10%] md:mx-[15%]",style:Q,contentLabel:"Enter details of User",ariaHideApp:!1,children:[Object(l.jsx)("button",{className:"btn btn-danger float-right mr-4 mt-2",onClick:function(e){return n(!1)},children:Object(l.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),Object(l.jsx)("br",{}),Object(l.jsxs)("form",{className:"flex  flex-col items-center",onSubmit:v,children:[Object(l.jsxs)("p",{className:"text-2xl text-blue-800 text-center mb-3  text",children:[" ","Enter User Details"," "]}),Object(l.jsx)("p",{className:"text-xl text-blue-400 ",children:"Name"}),Object(l.jsx)("input",{required:!0,onChange:function(e){i(e.target.value)},type:"text",className:"rounded-lg p-3 w-4/5 text-black bg-[#EEEEEE] focus:outline-none"})," ",Object(l.jsx)("br",{}),Object(l.jsx)("p",{className:"text-xl text-blue-400",children:"Email"}),Object(l.jsx)("input",{required:!0,onChange:function(e){p(e.target.value)},type:"email",className:"p-3 rounded-lg w-4/5 text-black bg-[#EEEEEE] focus:outline-none"})," ",Object(l.jsx)("br",{}),Object(l.jsx)("p",{className:"text-xl text-blue-400",children:"Password"}),Object(l.jsx)("input",{required:!0,onChange:function(e){g(e.target.value)},type:"password",className:"p-3 rounded-lg w-4/5 text-black bg-[#EEEEEE] focus:outline-none"})," ",Object(l.jsx)("br",{}),Object(l.jsx)("button",{className:"btn btn-secondary  mt-2",children:"Submit"})]})]})},Z=n(31),$=n(85),ee=(n(142),{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)"},content:{top:"20%",left:"20%",transform:"translate(-10%, -10%)"}});function te(e){var t=e.setOpen,n=e.course,a=e.totalDates,r=e.presentDates,o=(e.absentDates,Object(c.useState)(new Date)),i=Object(x.a)(o,2),u=i[0],d=i[1],j=s.a.useState(!0),b=Object(x.a)(j,2),f=(b[0],b[1]);return Object(l.jsx)("div",{children:Object(l.jsxs)(H.a,{isOpen:!0,onRequestClose:function(){f(!1),t(!1)},style:ee,contentLabel:"Example Modal",ariaHideApp:!1,children:[Object(l.jsx)("div",{className:"flex justify-end",children:Object(l.jsx)("button",{onClick:function(e){return t(!1)},children:Object(l.jsx)("svg",{className:"w-8 h-8 text-red-400 hover:text-red-600",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})}),Object(l.jsx)("p",{className:"text-3xl font-bold text-gray-600 text-center",children:"Consolidated View"}),Object(l.jsxs)("div",{className:"flex md:ml-10 md:mt-9 md:flex-row flex-col",children:[Object(l.jsxs)("div",{className:"space-y-2 md:mt-9",children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("span",{className:"text-gray-400 font-bold text-lg",children:"Course"})," :",Object(l.jsx)("span",{className:"text-lg ml-4 font-bold font-roboto bg-indigo-300 inline-block p-2 rounded-lg text-white",children:n.course_name})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("span",{className:"text-gray-400 font-bold text-lg",children:"Course Duration"})," ",":",Object(l.jsxs)("span",{className:"text-lg ml-4 font-bold font-roboto bg-indigo-300 inline-block p-2 rounded-lg text-white",children:[n.course_duration," lecture"]})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("span",{className:"text-gray-400 font-bold text-lg",children:"Conducted Lecture"})," ",":",Object(l.jsxs)("span",{className:"text-lg ml-4 font-bold font-roboto bg-indigo-300 inline-block p-2 rounded-lg text-white",children:[n.dates.length," lecture"]})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("span",{className:"text-gray-400 font-bold text-lg",children:"Attended Lecture"})," ",":",Object(l.jsxs)("span",{className:"text-lg ml-4 font-bold font-roboto bg-indigo-300 inline-block p-2 rounded-lg text-white",children:[r.size," lecture"]})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("span",{className:"text-gray-400 font-bold text-lg",children:"Percentage"})," ",":",Object(l.jsxs)("span",{className:"text-lg ml-4 font-bold font-roboto bg-indigo-300 inline-block p-2 rounded-lg text-white",children:[Math.round(100*(r.size/(0===a.size?1:a.size)*100+Number.EPSILON))/100," ","%"]})]})]}),Object(l.jsx)("div",{className:"md:-mt-10 flex items-center",children:Object(l.jsx)("div",{className:" md:ml-10 mt-5  text-gray-600 md:w-[700px] border-none",children:Object(l.jsx)($.a,{className:"w-full",onChange:d,value:u,tileContent:function(e){e.activeStartDate;var t=e.date,n=e.view,c=t.toISOString().split("T")[0];return"month"===n&&a.has(c)?r.has(c)?Object(l.jsx)("p",{className:"bg-green-300 p-2 text-white font-bold",children:"P"}):Object(l.jsx)("p",{className:"bg-red-300 p-2 text-white font-bold",children:"A"}):null}})})})]})]})})}var ne={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)"}},ce=function(e){var t=e.state,n=e.setOpenModal,s=Object(c.useState)(!0),a=Object(x.a)(s,2),r=a[0],o=a[1],i=Object(c.useState)(new Set),u=Object(x.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(new Set),f=Object(x.a)(b,2),p=f[0],m=f[1],h=Object(c.useState)(new Set),O=Object(x.a)(h,2),g=O[0],v=O[1],w=Object(c.useState)(""),N=Object(x.a)(w,2),y=N[0],S=N[1],E=Object(c.useState)(!1),k=Object(x.a)(E,2),C=k[0],_=k[1];return Object(l.jsx)("div",{children:Object(l.jsxs)(H.a,{isOpen:r,onRequestClose:function(){n(!1),o(!1)},className:" bg-white w-[80%] rounded-md top-44 ml-6 md:m-0 absolute md:flex md:top-20 md:left-[36%] md:w-[400px] ",contentLabel:"Example Modal",style:ne,ariaHideApp:!1,children:[d&&p&&g&&y&&C?Object(l.jsx)(te,{presentDates:d,absentDates:p,totalDates:g,course:y,setOpen:_}):Object(l.jsx)(l.Fragment,{}),Object(l.jsxs)("div",{className:"text-center w-full ",children:[Object(l.jsx)("p",{className:"text-xl font-bold text-[#06202A]",children:t.name}),Object(l.jsxs)("p",{className:"text-lg font-semibold text-[#ccf1ff]",children:["Email:",Object(l.jsxs)("span",{children:[" ",t.email," "]})]}),Object(l.jsx)("p",{className:"text-lg font-semibold text-[#06202A]",children:"Courses:"}),Object(l.jsx)("div",{className:"max-h-[300px] overflow-y-scroll p-2 m-2 text-lg  bg-purple-50",children:t.enrolled_course.length>0&&t.enrolled_course.map((function(e,n){return Object(l.jsxs)("div",{className:"flex flex-col bg-purple-200   items-center p-2 mb-2",children:[Object(l.jsxs)("p",{className:"text-green-800 font-bold text-xl",children:["# ",n+1]}),Object(l.jsxs)("div",{className:"flex",children:[" ",Object(l.jsx)("p",{className:"bg-purple-200 text-blue-500",children:"Course Name:"}),Object(l.jsxs)("span",{className:"text-gray-500",children:["\xa0",e.course_name]})]}),Object(l.jsxs)("div",{className:"flex",children:[" ",Object(l.jsx)("p",{className:"bg-purple-200 text-blue-500",children:"Course Duration:"}),Object(l.jsxs)("span",{className:"text-gray-500",children:["\xa0",e.course_duration," lectures"]})]}),Object(l.jsxs)("div",{className:"flex",children:[" ",Object(l.jsx)("p",{className:"bg-purple-200 text-blue-500",children:"Lectures Made:"}),Object(l.jsxs)("span",{className:"text-gray-500",children:["\xa0",e.dates.length," lectures"]})]}),Object(l.jsxs)("div",{className:"flex",children:[" ",Object(l.jsx)("p",{className:"bg-purple-200 text-blue-500",children:"Attended:"}),t.enrolled_course_attendance.map((function(t){if(t.course_name===e.course_name)return Object(l.jsxs)("span",{className:"text-gray-500",children:["\xa0",t.present_days.length," lectures"]},t._id)}))]}),Object(l.jsxs)("div",{className:"flex ",children:[Object(l.jsx)("p",{className:"bg-purple-200 text-blue-500",children:"Percentage:"}),t.enrolled_course_attendance.map((function(t){if(t.course_name===e.course_name)return Object(l.jsxs)("span",{className:"text-gray-500",children:["\xa0",Math.round(100*(t.present_days.length/(0===e.dates.length?1:e.dates.length)*100+Number.EPSILON))/100," ","% lectures"]},t._id)}))]}),Object(l.jsxs)("span",{className:" group relative -space-y-1",onClick:function(){return function(e){var n=t.enrolled_course_attendance.find((function(t){return t.course_name===e.course_name}));j(Object(Z.getPresentDatesSet)(n.present_days)),m(Object(Z.getAbsentDatesSet)(n.absent_days)),v(Object(Z.getTotalDatesSet)(e.dates)),S(e),_(!0)}(e)},children:[Object(l.jsx)("button",{className:"btn btn-primary m-2",children:Object(l.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),Object(l.jsx)("p",{className:"hidden absolute -right-7 -top-16  bg-blue-600 p-2 rounded-md text-white group-hover:inline-block ",children:"Consolidated View"})]})]},e._id)}))})]})]})})};var se={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)"}},ae=function(e){var t=e.state,n=e.dispatch,s=Object(c.useState)(""),a=Object(x.a)(s,2),r=a[0],o=a[1],i=Object(c.useState)(""),u=Object(x.a)(i,2),d=u[0],j=u[1],b=Object(c.useState)(""),f=Object(x.a)(b,2),p=f[0],m=f[1];return Object(c.useEffect)((function(){o(t.name),j(t.email),m(t.password)}),[]),Object(l.jsxs)(H.a,{isOpen:!0,onafter:function(){},style:se,contentLabel:"Edit",className:"h-[500px] bg-white mt-[30%] mx-[10%] rounded-md md:mt-[10%] md:mx-[15%]",ariaHideApp:!1,children:[Object(l.jsx)("button",{className:"btn btn-danger float-right mt-2 mr-2",onClick:function(e){n({type:"edit-modal-not"})},children:Object(l.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),Object(l.jsx)("br",{}),Object(l.jsxs)("form",{className:"flex  flex-col items-center",onSubmit:function(e){e.preventDefault();var c,s,a={name:r,password:p};(c=t._id,s=a,fetch("".concat(A,"/edit/").concat(c),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.ok?e.json():Promise.reject(e)})).catch((function(e){return e}))).then((function(e){e.status||(n({type:"edited",payload:e}),n({type:"edit-modal-not"}))}))},children:[Object(l.jsx)("p",{className:"text-2xl text-blue-800 text-center mb-3  text",children:" Edit "}),Object(l.jsx)("p",{className:"text-xl text-blue-400 ",children:"Name"}),Object(l.jsx)("input",{onChange:function(e){o(e.target.value)},value:r,type:"text",className:"rounded-lg p-3 w-4/5 text-black bg-[#EEEEEE] focus:outline-none"})," ",Object(l.jsx)("br",{}),Object(l.jsx)("p",{className:"text-xl text-blue-400",children:"Email"}),Object(l.jsx)("input",{disabled:!0,onChange:function(e){j(e.target.value)},value:d,type:"email",className:"p-3 rounded-lg w-4/5 text-black bg-[#EEEEEE] focus:outline-none"})," ",Object(l.jsx)("br",{}),Object(l.jsx)("p",{className:"text-xl text-blue-400",children:"Password"}),Object(l.jsx)("input",{onChange:function(e){m(e.target.value)},value:p,type:"password",className:"p-3 rounded-lg w-4/5 text-black bg-[#EEEEEE] focus:outline-none"})," ",Object(l.jsx)("br",{}),Object(l.jsx)("button",{className:"btn btn-secondary  mt-2",children:"Submit"})]})]})},re=n(23),oe=function(e,t){if("success-add"===t.type)return C.b.success("Add user success",{duration:2e3}),Object(O.a)(Object(O.a)({},e),{},{reload_state:!e.reload_state});if("fail-add"===t.type)return C.b.error("User email already exist",{duration:2e3}),e;if("info-modal"===t.type)return Object(O.a)(Object(O.a)({},e),{},{info_modal:!0});if("set-user"===t.type)return Object(O.a)(Object(O.a)({},e),{},{info_user:t.payload});if("info-modal-not"===t.type)return Object(O.a)(Object(O.a)({},e),{},{info_modal:!1});if("edit-modal"===t.type)return Object(O.a)(Object(O.a)({},e),{},{edit_modal:!0});if("edit-modal-not"===t.type)return Object(O.a)(Object(O.a)({},e),{},{edit_modal:!1});if("edited"===t.type){var n,c=Object(k.a)(e.user);return c.forEach((function(e,c){e._id!==t.payload._id||(n=c)})),c[n]=t.payload,C.b.success("Edit Successful",{duration:2e3}),Object(O.a)(Object(O.a)({},e),{},{user:c})}return"update-state"===t.type?Object(O.a)(Object(O.a)({},e),{},{user:t.payload}):void 0};var ie=function(){var e=Object(c.useReducer)(oe,{delete_success:!1,edit_modal:!1,info_user:{},info_modal:!1,delete_fail:!1,reload_state:!1,user:[]}),t=Object(x.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),r=Object(x.a)(a,2),o=r[0],i=r[1];Object(c.useEffect)((function(){M().then((function(e){e.status||s({type:"update-state",payload:e})}))}),[]),Object(c.useEffect)((function(){M().then((function(e){e.status||s({type:"update-state",payload:e})}))}),[n.reload_state]);var u=Object(c.useState)(!1),d=Object(x.a)(u,2),j=d[0],b=d[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)(m,{}),Object(l.jsx)(C.a,{}),o&&Object(l.jsx)(ce,{setOpenModal:i,state:n.info_user}),n.edit_modal&&Object(l.jsx)(ae,{dispatch:s,state:n.info_user}),j&&Object(l.jsx)(X,{setOpenModal:b,dispatch:s}),Object(l.jsxs)("div",{className:"flex justify-evenly flex-col-reverse items-center  md:flex-row ",children:[Object(l.jsxs)("div",{className:"w-5/6 flex flex-col items-center",children:[Object(l.jsxs)("h1",{className:"text-center text-2xl font-semibold mb-4",children:[" ","List of Users"," "]}),Object(l.jsx)("div",{className:" md:w-4/6 p-2 w-full list-group h-2/5 md:h-[500px]  overflow-scroll   bg-white  ",children:n.user.length>0?n.user.map((function(e){return Object(l.jsx)(K,{state:e,dispatch:s,setOpenModal:i},e._id)})):Object(l.jsx)("div",{className:"grid h-96 place-items-center",children:Object(l.jsx)(re,{className:"items-center",fadeIn:"none",name:"pacman",color:"#06202A"})})})]}),Object(l.jsx)("div",{children:Object(l.jsxs)("button",{onClick:function(e){b(!0)},className:"btn btn-secondary",children:[" ","Add User"," ",Object(l.jsx)("svg",{className:"w-6 h-6 ml-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})})]})})]})]})};var le={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)"},content:{top:"30%",left:"50%",borderRadius:"10px",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"30%",position:"absolute"}},ue=function(e){var t=e.dispatch,n=void 0===t?function(e){return e}:t,s=e.setOpenModal,a=e.courses,r=e.state,o=Object(c.useState)([]),i=Object(x.a)(o,2),u=i[0],d=i[1],f=Object(c.useState)([]),p=Object(x.a)(f,2),m=p[0],h=p[1];Object(c.useEffect)((function(){var e=[];r.enrolled_course.forEach((function(t){e.push(t._id)})),h(e)}),[]);var O=function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),u.length>0?(c={enrolled_course:u,id:r._id},L(u,r._id).then((function(e){e.status||(n({type:"success",payload:c}),s(!1))})).catch((function(e){return e}))):s(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{children:Object(l.jsxs)(H.a,{isOpen:!0,style:le,contentLabel:"Enter details of User",ariaHideApp:!1,children:[Object(l.jsx)("button",{className:"btn btn-danger float-right",onClick:function(e){return s(!1)},children:Object(l.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),Object(l.jsx)("br",{}),Object(l.jsxs)("form",{className:"flex  flex-col items-center text-gray-400",onSubmit:O,children:[Object(l.jsx)("p",{children:"Select courses"}),a&&a.map((function(e){return Object(l.jsx)(l.Fragment,{children:!m.includes(e._id)&&e.course_duration>e.dates.length&&Object(l.jsxs)("div",{className:"form-check",children:[Object(l.jsx)("input",{className:"form-check-input",onClick:function(t){return function(e,t){e.target.checked?d((function(e){return[].concat(Object(k.a)(e),[t])})):d((function(e){return[].concat(Object(k.a)(e),[e.filter((function(t){return t.name!==e.name}))])}))}(t,e)},type:"checkbox",value:e,id:"flexCheckDefault"}),Object(l.jsx)("label",{htmlFor:"flexCheckDefault",className:"form-check-label text-gray-500 font-medium",children:e.course_name})]},e._id)})})),Object(l.jsx)("button",{className:"bg-green-700 p-2 rounded-xl text-white font-semibold",children:"Assign"})]})]})})};var de=function(e){var t=e.state,n=e.dispatch,s=e.courses,a=Object(c.useState)(!1),r=Object(x.a)(a,2),o=r[0],i=r[1],u=Object(c.useState)(!1),d=Object(x.a)(u,2),j=d[0],b=d[1];return Object(l.jsxs)("div",{className:"flex justify-between list-group-item  hover:bg-[#BACBE6]  list-group-item-primary mb-2 rounded",children:[o&&Object(l.jsx)(ue,{courses:s,setOpenModal:i,state:t,dispatch:n}),j&&Object(l.jsx)(ce,{state:t,setOpenModal:b}),Object(l.jsx)("p",{children:t.name}),Object(l.jsxs)("div",{className:"flex space-x-4",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{"data-tip":!0,"data-for":"viewTip",onClick:function(e){b(!0)},children:Object(l.jsxs)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),Object(l.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),Object(l.jsx)(F.a,{id:"viewTip",place:"left",effect:"solid",children:"View"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{"data-tip":!0,"data-for":"AssignTip",onClick:function(e){i(!0)},children:Object(l.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})})}),Object(l.jsx)(F.a,{id:"Tip",place:"left",effect:"solid",children:"Assign Course"})]})]})]})},je=n(23),be=function(e,t){if("success"===t.type){C.b.success("Assigned Course sucess",{duration:2e3});var n,c=Object(k.a)(e.user);return c.forEach((function(e,c){e._id!==t.payload.id||(n=c)})),c[n].enrolled_course=c[n].enrolled_course.concat(t.payload.enrolled_course),Object(O.a)(Object(O.a)({},e),{},{user:c})}return"fail"===t.type?Object(O.a)({},e):"update-user"===t.type?Object(O.a)(Object(O.a)({},e),{},{user:t.payload}):"update-courses"===t.type?Object(O.a)(Object(O.a)({},e),{},{course:t.payload}):void 0};var xe=function(){var e=Object(c.useReducer)(be,{reload_state:!1,user:[],course:[]}),t=Object(x.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){M().then((function(e){e.status||s({type:"update-user",payload:e})})),D().then((function(e){e.status||s({type:"update-courses",payload:e})})).catch((function(e){}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)(m,{}),Object(l.jsx)(C.a,{}),Object(l.jsxs)("div",{className:"h-[70vh] w-11/12 grid place-items-center",children:[Object(l.jsx)("p",{className:"text-3xl  font-sarif font-semibold",children:"Assign Course Section"}),Object(l.jsxs)("div",{className:"bg-white w-4/6 h-[500px] rounded-xl ",children:[Object(l.jsxs)("p",{className:"p-2 bg-green-600 rounded-t-lg text-xl font-semibold text-center",children:[" ","List of users"," "]}),Object(l.jsx)("div",{className:"h-[430px] overflow-y-scroll ",children:n.user.length>0?n.user.map((function(e){return Object(l.jsx)(de,{state:e,id:e._id,courses:n.course,dispatch:s},e._id)})):Object(l.jsx)("div",{className:"grid h-[10vh] place-items-center",children:Object(l.jsx)(je,{fadeIn:"none",name:"ball-grid-pulse",color:"#06202A"})})}),Object(l.jsx)("div",{className:"bg-[#F9F5F2]"})]})]})]})},fe=n(84),pe=n(82),me=n.n(pe);n(143);function he(e){var t=e.setSelectedCourse,n=e.startDate,s=e.setStartDate,a=Object(c.useState)([]),r=Object(x.a)(a,2),o=r[0],i=r[1];Object(c.useEffect)((function(){D().then((function(e){if(e.status);else{var t=[];e.forEach((function(e){var n={value:e,label:e.course_name};t.push(n)})),i(t)}}))}),[]);return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:" text-gray-700  md:mx-[450px] mr-4 ml-4 md:w-[500px]  ",children:[Object(l.jsx)("div",{children:Object(l.jsx)(fe.a,{options:o,onChange:function(e){!function(e){t(e.value)}(e)},placeholder:"Select Course"})}),Object(l.jsxs)("div",{className:"flex my-3 space-x-2 mx-auto justify-center ",children:[Object(l.jsx)("span",{className:"text-white font-bold ",children:"Date"}),Object(l.jsx)(me.a,{selected:n,onChange:function(e){return s(e)}})]})]})})}var Oe=function(e){var t=e.ids,n=e.setIds,c=e.state;return Object(l.jsxs)("div",{className:"flex justify-between list-group-item  list-group-item-primary mb-2",children:[Object(l.jsx)("p",{className:"font-bold",children:c.item.name}),Object(l.jsx)("div",{className:"flex space-x-4",children:Object(l.jsx)("div",{className:"form-check",children:Object(l.jsx)("input",{onChange:function(e){var s=e.target.checked,a=new Map(t);a.set(c.item._id,s),n(a)},className:"form-check-input cursor-pointer",type:"checkbox"})})})]})};function ge(e){var t=e.state,n=e.setState,s=e.course,a=e.date,r=e.setEditResponse,o=Object(c.useState)(new Map),i=Object(x.a)(o,2),u=i[0],d=i[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(C.a,{}),Object(l.jsxs)("form",{className:"bg-white w-4/6 h-[520px] rounded-xl my-0 mx-auto mt-4",onSubmit:function(e){e.preventDefault();var c=Object(k.a)(t);t.forEach((function(e,t){!0===u.get(e.item._id)?c[t].select=!0:c[t].select=!1}));var o={course:s,record:c,date:a};n(c),B(s._id,o).then((function(e){e.status?e.json().then((function(e){var t;t=e.msg,C.b.error(t,{duration:2e3})})):(C.b.success("Marked Attendance",{duration:2e3}),r(!0))})).catch((function(e){return e}))},children:[Object(l.jsxs)("p",{className:"p-2 bg-green-600 rounded-t-lg text-xl font-semibold text-center",children:[" ","Mark"," "]}),Object(l.jsx)("div",{className:"h-[430px] overflow-y-scroll ",children:t.length>0?t.map((function(e){return Object(l.jsx)("span",{children:Object(l.jsx)(Oe,{state:e,ids:u,setIds:d})},e.item._id)})):Object(l.jsx)("div",{className:"grid h-[10vh] place-items-center",children:Object(l.jsx)(v.a,{fadeIn:"none",name:"ball-grid-pulse",color:"#06202A"})})}),Object(l.jsx)("div",{className:"flex items-center justify-center",children:Object(l.jsx)("button",{className:"p-2 bg-green-500 rounded-3xl btnOuter text-white text-bold ",children:"Submit"})})]})]})}function ve(e){var t=e.state,n=e.date,c=e.course,s=Object(i.g)();return Object(l.jsxs)("div",{className:"text-center md:mt-48 space-y-8",children:[Object(l.jsx)("p",{className:"text-3xl font-bold font-mono",children:"Your Response Was Recorded"}),Object(l.jsx)("p",{className:"text-xl",children:"If you want to edit your response click the link below"}),Object(l.jsx)("button",{onClick:function(){var e={pathname:"/admin/edit",state:{state:t,date:n,course:c}};s.push(e)},className:"bg-indigo-300 p-2 text-white font-bold rounded-lg hover:bg-indigo-500",children:"Edit Response"})]})}var we=function(e){C.b.error(e,{duration:2e3})};var Ne=function(){var e=Object(c.useState)({}),t=Object(x.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([]),r=Object(x.a)(a,2),o=r[0],i=r[1],u=Object(c.useState)(new Date),d=Object(x.a)(u,2),j=d[0],b=d[1],f=Object(c.useState)(!1),p=Object(x.a)(f,2),h=p[0],O=p[1];return console.log((new Date).toISOString()),Object(c.useEffect)((function(){if(0!==Object.entries(n).length||n.constructor!==Object){var e=n._id,t=[];return n.dates.forEach((function(e){t.push(e.split("T")[0])})),n.course_duration<=n.dates.length?(we("Course Expired"),void i([])):t.includes(j.toISOString().split("T")[0])?(we("Date marked already"),void i([])):void z(e).then((function(e){if(e.status)e.json().then((function(e){we(e.msg)}));else{var t=[];e.forEach((function(e){var n={item:e,select:!1};t.push(n)})),i(t)}})).catch((function(e){}))}}),[n,j]),Object(l.jsxs)("div",{children:[Object(l.jsx)(C.a,{}),Object(l.jsx)(m,{}),h?Object(l.jsx)(ve,{state:o,date:j,course:n}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(he,{setSelectedCourse:s,startDate:j,setStartDate:b}),Object(l.jsx)(ge,{state:o,course:n,editResponse:h,setEditResponse:O,date:j,setState:i})]})]})};var ye=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("h1",{className:"mx-auto text-6xl text-center mt-[20%]",children:"Page Not Found!"})})},Se=function(e){var t=e.component,n=Object(S.a)(e,["component"]);return Object(l.jsx)(i.b,Object(O.a)(Object(O.a)({},n),{},{render:function(e){return Object(N.isAuthenticated)()&&0===Object(N.isAuthenticated)().role?Object(l.jsx)(t,Object(O.a)({},e)):Object(l.jsx)(i.a,{to:"/"})}}))};function Ee(e){var t=e.postsPerPage,n=e.totalPosts,s=e.paginate,a=e.page,r=Object(c.useState)([]),o=Object(x.a)(r,2),i=o[0],u=o[1],d=Object(c.useState)(0),j=Object(x.a)(d,2),b=(j[0],j[1]);return Object(c.useEffect)((function(){var e=[];b(n%3===0?Math.floor(n/3):Math.floor(n/3+1));for(var c=1;c<=Math.ceil(n/t);c++)e.push(c);u(e)}),[]),Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"flex-container",children:i.length>0&&Object(l.jsxs)("div",{className:"paginate-ctn",children:[Object(l.jsxs)("div",{className:"round-effect",onClick:function(e){s(a-1)},children:[" ","\u2039"," "]}),i.length>0&&i.map((function(e){return Object(l.jsx)("div",{className:a===e?"round-effect active":"round-effect",onClick:function(){s(e)},children:e},e)})),Object(l.jsxs)("div",{className:"round-effect",onClick:function(e){s(a+1)},children:[" ","\u203a"," "]})]})})})}function ke(e){var t=e.course;return Object(c.useEffect)((function(){}),[]),Object(l.jsxs)("div",{className:"group  mr-4 md:mr-0  mb-4 py-16 border-2 hover:border-indigo-700 hover:bg-gray-300 transform  cursor-pointer bg-gray-100 w-[250px] h-[250px] rounded-md flex items-center flex-col text-gray-700  md:mt-20 ",children:[Object(l.jsx)("p",{className:"font-bold text-lg",children:t.course_name}),Object(l.jsx)("p",{className:"text-gray-500 font-mono",children:t.course_description}),Object(l.jsxs)("p",{className:"text-gray-600 font-bold",children:["Duration : ",t.course_duration," lectures"]})]})}var Ce=n(14).isAuthenticated,_e=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce()._id;case 2:return t=e.sent,e.abrupt("return",fetch("".concat("https://backend-attendance-7k9lf.ondigitalocean.app/api/","/user/").concat(t)).then((function(e){return e.ok?e.json():e})).catch((function(e){})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ae(e){var t=e.courses,n=e.setCourses,s=e.currentPage,a=e.postsPerPage,r=Object(c.useState)({}),o=Object(x.a)(r,2),i=o[0],u=o[1],d=Object(c.useState)(!1),j=Object(x.a)(d,2),b=j[0],f=j[1],p=Object(c.useState)({}),m=Object(x.a)(p,2),h=m[0],O=m[1],g=Object(c.useState)(new Set),v=Object(x.a)(g,2),w=v[0],N=v[1],y=Object(c.useState)(new Set),S=Object(x.a)(y,2),E=S[0],k=S[1],C=Object(c.useState)(new Set),_=Object(x.a)(C,2),A=_[0],D=_[1],P=Object(c.useState)([]),M=Object(x.a)(P,2),R=M[0],T=M[1];return Object(c.useEffect)((function(){_e().then((function(e){e.status?alert("Something went wrong"):(u(e),n(e.enrolled_course))}))}),[]),Object(c.useEffect)((function(){var e=s*a,n=e-a,c=t.slice(n,e);T(c)}),[s,t]),Object(l.jsxs)("div",{children:[b&&Object(l.jsx)(te,{setOpen:f,course:h,totalDates:A,presentDates:w,absentDates:E}),Object(l.jsx)("p",{className:"text-white text-center font-raleway text-2xl font-bold",children:"Enrolled Courses"}),Object(l.jsx)("div",{className:"flex items-center flex-wrap justify-evenly",children:R.length>0&&R.map((function(e){return Object(l.jsx)("span",{onClick:function(t){f(!0),O(e),function(e){var t=i.enrolled_course_attendance.find((function(t){return t.course_name===e.course_name}));N(Object(Z.getPresentDatesSet)(t.present_days)),k(Object(Z.getAbsentDatesSet)(t.absent_days)),D(Object(Z.getTotalDatesSet)(e.dates))}(e)},children:Object(l.jsx)(ke,{course:e,totalItem:t.length})},e._id)}))})]})}var De=function(){var e=Object(c.useState)(1),t=Object(x.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([]),r=Object(x.a)(a,2),o=r[0],i=r[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)(m,{}),Object(l.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(l.jsx)(Ae,{courses:o,setCourses:i,currentPage:n,postsPerPage:3}),o.length>0&&Object(l.jsx)(Ee,{postsPerPage:3,setPage:s,page:n,paginate:function(e){e>0&&e<=Math.ceil(o.length/3)&&s(e)},totalPosts:o.length})]})]})};var Pe=function(e){var t=e.ids,n=e.setIds,s=e.state,a=Object(c.useState)(!1),r=Object(x.a)(a,2),o=r[0],i=r[1];return Object(c.useEffect)((function(){i(s.select)}),[]),Object(l.jsxs)("div",{className:"flex justify-between list-group-item  list-group-item-primary mb-2",children:[Object(l.jsx)("p",{className:"font-bold",children:s.item.name}),Object(l.jsx)("div",{className:"flex space-x-4",children:Object(l.jsx)("div",{className:"form-check",children:Object(l.jsx)("input",{onChange:function(e){var c=e.target.checked,a=new Map(t);i(!o),a.set(s.item._id,c),n(a)},className:"form-check-input cursor-pointer",type:"checkbox",checked:o})})})]})};function Me(e){var t=e.state,n=e.setState,s=e.course,a=e.date,r=e.setEditResponse;Object(c.useEffect)((function(){}),[]);var o=Object(c.useState)(new Map),i=Object(x.a)(o,2),u=i[0],d=i[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(C.a,{}),Object(l.jsxs)("p",{className:"text-center",children:[Object(l.jsx)("span",{className:"text-2xl font-bold text-blue-400",children:"Attendance Edit for Date :"})," ",Object(l.jsxs)("span",{className:"text-white font-semibold text-xl",children:["\xa0",a.toISOString().split("T")[0]]})]}),Object(l.jsxs)("form",{className:"bg-white w-4/6 h-[520px] rounded-xl my-0 mx-auto mt-4",onSubmit:function(e){e.preventDefault();var c=Object(k.a)(t);t.forEach((function(e,t){!0===u.get(e.item._id)?c[t].select=!0:c[t].select=!1}));var o={course:s,record:c,date:a};n(c),U(s._id,o).then((function(e){e.status?e.json().then((function(e){var t;t=e.msg,C.b.error(t,{duration:2e3})})):(C.b.success("Updated Attendance",{duration:2e3}),r(!0))})).catch((function(e){return e}))},children:[Object(l.jsxs)("p",{className:"p-2 bg-green-600 rounded-t-lg text-xl font-semibold text-center",children:[" ","Mark"," "]}),Object(l.jsx)("div",{className:"h-[430px] overflow-y-scroll ",children:t.length>0?t.map((function(e){return Object(l.jsx)("span",{children:Object(l.jsx)(Pe,{state:e,ids:u,setIds:d})},e.item._id)})):Object(l.jsx)("div",{className:"grid h-[10vh] place-items-center",children:Object(l.jsx)(v.a,{fadeIn:"none",name:"ball-grid-pulse",color:"#06202A"})})}),Object(l.jsx)("div",{className:"flex items-center justify-center",children:Object(l.jsx)("button",{className:"p-2 bg-green-500 rounded-3xl btnOuter text-white text-bold ",children:"Submit"})})]})]})}function Re(){var e=Object(i.h)(),t=Object(c.useState)([]),n=Object(x.a)(t,2),s=n[0],a=n[1],r=e.state,o=r.course,u=r.date,d=Object(c.useState)(!1),j=Object(x.a)(d,2),b=j[0];j[1];return Object(c.useEffect)((function(){a(e.state.state)}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)(m,{}),b&&s.length>0?Object(l.jsx)(ve,{state:s,course:o,date:u}):Object(l.jsx)(Me,{state:s,date:u,course:o,setState:a})]})}var Te=function(e){var t=e.history,n=Object(w.a)(),s=n.register,a=n.handleSubmit,r=n.formState.errors,o=Object(c.useState)(!1),u=Object(x.a)(o,2),d=u[0],f=u[1],p=Object(c.useState)(!1),m=Object(x.a)(p,2),h=m[0],g=m[1],y=Object(c.useState)(!1),S=Object(x.a)(y,2),E=S[0],k=S[1],_=Object(c.useRef)(null);function A(e){return new Promise((function(t){return setTimeout(t,e)}))}var D=function(e){_.current.classList.add("hidden"),f(!0),Object(N.singup)(e).then(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.b.success("Singup Success",{duration:1e3}),e.next=3,A(500);case 3:k(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(500);case 2:_.current.classList.remove("hidden"),f(!1),g(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(C.a,{}),Object(l.jsx)("div",{className:"grid h-screen place-items-center",children:Object(l.jsxs)("div",{className:"w-full h-full flex flex-col justify-center items-center ",children:[Object(l.jsxs)("form",{onSubmit:a(D),className:"flex bg-white flex-col mt-44 m-4 md:w-2/5 md:ml-96 p-5 space-y-3 rounded-md shadow-2xl",children:[Object(l.jsx)("h1",{className:"self-center text-black text-2xl font-semibold mb-2",children:"Singup"}),Object(l.jsx)("p",{className:"text-red-300 ",children:"Note! Singup feature is only for those who want to have admin featues "}),h&&Object(l.jsx)("h1",{className:"text-red-600 bg-red-200 p-2 ",children:"Incorrect Email or Password"}),Object(l.jsx)("input",Object(O.a)(Object(O.a)({},s("email",{required:!0})),{},{type:"email",name:"email",autoComplete:"off",placeholder:"Email",className:"p-3 text-black bg-[#EEEEEE] focus:outline-none"})),r.email&&Object(l.jsx)("span",{className:"text-red-600 bg-red-200 p-2 w-4/5 md:w-1/2",children:"Email is required"}),Object(l.jsx)("input",Object(O.a)(Object(O.a)({},s("password",{required:!0})),{},{type:"password",name:"password",autoComplete:"off",placeholder:"Password",className:"p-3 text-black bg-[#EEEEEE] focus:outline-none"})),r.password&&Object(l.jsx)("span",{className:"text-red-600 bg-red-200 p-2 w-4/5 md:w-1/2",children:"Password is required"}),Object(l.jsx)("button",{ref:_,className:"p-3 bg-[#32BD69] focus:outline-none text-white",children:"Signup"}),d&&Object(l.jsx)(v.a,{fadeIn:"none",name:"cube-grid",color:"orange",className:"self-center h-3"})]}),Object(l.jsx)("p",{className:"text-white font-bold text-xl",children:"Have an account already?"}),Object(l.jsx)("button",{className:"w-20 bg-indigo-500 rounded-2xl font-bold p-1",onClick:function(){t.push("/")},children:"Singin"})]})}),function(){if(E)return Object(l.jsx)(i.a,{to:"/"})}()]})};var Le=function(){return Object(l.jsx)(f.a,{children:Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{path:"/",exact:!0,component:y}),Object(l.jsx)(i.b,{path:"/signup",exact:!0,component:Te}),Object(l.jsx)(E,{path:"/admin",exact:!0,component:h}),Object(l.jsx)(E,{path:"/admin/addremove",exact:!0,component:ie}),Object(l.jsx)(E,{path:"/admin/addcourse",exact:!0,component:W}),Object(l.jsx)(E,{path:"/admin/assign",exact:!0,component:xe}),Object(l.jsx)(E,{path:"/admin/mark",exact:!0,component:Ne}),Object(l.jsx)(E,{path:"/admin/edit",exact:!0,component:Re}),Object(l.jsx)(Se,{path:"/user",exact:!0,component:De}),Object(l.jsx)(i.b,{component:ye})]})})},Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,206)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))},ze=document.getElementById("root");ze.hasChildNodes()?r.a.hydrate(Object(l.jsx)(Le,{}),ze):r.a.render(Object(l.jsx)(Le,{}),ze),Ie()},31:function(e,t){e.exports={getAbsentDatesSet:function(e){var t=new Set;return e.forEach((function(e){var n=new Date(e);n.setDate(n.getDate()-1);var c=n.toISOString();t.add(c.split("T")[0])})),t},getPresentDatesSet:function(e){var t=new Set;return e.forEach((function(e){var n=new Date(e);n.setDate(n.getDate()-1);var c=n.toISOString();t.add(c.split("T")[0])})),t},getTotalDatesSet:function(e){var t=new Set;return e.forEach((function(e){var n=new Date(e);n.setDate(n.getDate()-1);var c=n.toISOString();t.add(c.split("T")[0])})),t}}},79:function(e,t,n){},92:function(e,t,n){}},[[197,1,2]]]);
//# sourceMappingURL=main.9d2556d4.chunk.js.map